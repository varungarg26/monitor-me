ancestor: null
releases:
  0.1.0:
    changes:
      bugfixes:
      - docker_login - fix internal config file storage to handle credentials for
        more than one registry (https://github.com/ansible-collections/community.general/issues/1117).
      minor_changes:
      - docker_container - now supports the ``device_requests`` option, which allows
        to request additional resources such as GPUs (https://github.com/ansible/ansible/issues/65748,
        https://github.com/ansible-collections/community.general/pull/1119).
      release_summary: 'The ``community.docker`` continues the work on the Ansible
        docker modules and plugins from their state in ``community.general`` 1.2.0.
        The changes listed here are thus relative to the modules and plugins ``community.general.docker*``.


        All deprecation removals planned for ``community.general`` 2.0.0 have been
        applied. All deprecation removals scheduled for ``community.general`` 3.0.0
        have been re-scheduled for ``community.docker`` 2.0.0.

        '
      removed_features:
      - docker_container - no longer returns ``ansible_facts`` (https://github.com/ansible-collections/community.docker/pull/1).
      - docker_container - the default of ``networks_cli_compatible`` changed to ``true``
        (https://github.com/ansible-collections/community.docker/pull/1).
      - docker_container - the unused option ``trust_image_content`` has been removed
        (https://github.com/ansible-collections/community.docker/pull/1).
      - docker_image - ``state=build`` has been removed. Use ``present`` instead (https://github.com/ansible-collections/community.docker/pull/1).
      - docker_image - the ``container_limits``, ``dockerfile``, ``http_timeout``,
        ``nocache``, ``rm``, ``path``, ``buildargs``, ``pull`` have been removed.
        Use the corresponding suboptions of ``build`` instead (https://github.com/ansible-collections/community.docker/pull/1).
      - docker_image - the ``force`` option has been removed. Use the more specific
        ``force_*`` options instead (https://github.com/ansible-collections/community.docker/pull/1).
      - docker_image - the ``source`` option is now mandatory (https://github.com/ansible-collections/community.docker/pull/1).
      - docker_image - the ``use_tls`` option has been removed. Use ``tls`` and ``validate_certs``
        instead (https://github.com/ansible-collections/community.docker/pull/1).
      - docker_image - the default of the ``build.pull`` option changed to ``false``
        (https://github.com/ansible-collections/community.docker/pull/1).
      - docker_image_facts - this alias is on longer availabe, use ``docker_image_info``
        instead (https://github.com/ansible-collections/community.docker/pull/1).
      - docker_network - no longer returns ``ansible_facts`` (https://github.com/ansible-collections/community.docker/pull/1).
      - docker_network - the ``ipam_options`` option has been removed. Use ``ipam_config``
        instead (https://github.com/ansible-collections/community.docker/pull/1).
      - docker_service - no longer returns ``ansible_facts`` (https://github.com/ansible-collections/community.docker/pull/1).
      - docker_swarm - ``state=inspect`` has been removed. Use ``docker_swarm_info``
        instead (https://github.com/ansible-collections/community.docker/pull/1).
      - docker_swarm_service - the ``constraints`` option has been removed. Use ``placement.constraints``
        instead (https://github.com/ansible-collections/community.docker/pull/1).
      - docker_swarm_service - the ``limit_cpu`` and ``limit_memory`` options has
        been removed. Use the corresponding suboptions in ``limits`` instead (https://github.com/ansible-collections/community.docker/pull/1).
      - docker_swarm_service - the ``log_driver`` and ``log_driver_options`` options
        has been removed. Use the corresponding suboptions in ``logging`` instead
        (https://github.com/ansible-collections/community.docker/pull/1).
      - docker_swarm_service - the ``reserve_cpu`` and ``reserve_memory`` options
        has been removed. Use the corresponding suboptions in ``reservations`` instead
        (https://github.com/ansible-collections/community.docker/pull/1).
      - docker_swarm_service - the ``restart_policy``, ``restart_policy_attempts``,
        ``restart_policy_delay`` and ``restart_policy_window`` options has been removed.
        Use the corresponding suboptions in ``restart_config`` instead (https://github.com/ansible-collections/community.docker/pull/1).
      - docker_swarm_service - the ``update_delay``, ``update_parallelism``, ``update_failure_action``,
        ``update_monitor``, ``update_max_failure_ratio`` and ``update_order`` options
        has been removed. Use the corresponding suboptions in ``update_config`` instead
        (https://github.com/ansible-collections/community.docker/pull/1).
      - docker_volume - no longer returns ``ansible_facts`` (https://github.com/ansible-collections/community.docker/pull/1).
      - docker_volume - the ``force`` option has been removed. Use ``recreate`` instead
        (https://github.com/ansible-collections/community.docker/pull/1).
    fragments:
    - 0.1.0.yml
    - c.g-1118-docker_login-config-store.yml
    - c.g-1119-docker_container-device-reqests.yml
    - c.g-2.0.0-deprecations.yml
    release_date: '2020-10-30'
  1.0.0:
    changes:
      minor_changes:
      - Add collection-side support of the ``docker`` action group / module defaults
        group (https://github.com/ansible-collections/community.docker/pull/17).
      - docker_image - return docker build output (https://github.com/ansible-collections/community.general/pull/805).
      - docker_secret - add a warning when the secret does not have an ``ansible_key``
        label but the ``force`` parameter is not set (https://github.com/ansible-collections/community.docker/issues/30,
        https://github.com/ansible-collections/community.docker/pull/31).
      release_summary: 'This is the first production (non-prerelease) release of ``community.docker``.

        '
    fragments:
    - 1.0.0.yml
    - 17-action-group.yml
    - 31-docker-secret.yml
    - community.general-805-docker_image-build-output.yml
    release_date: '2020-11-17'
  1.0.1:
    changes:
      bugfixes:
      - docker_container - the validation for ``capabilities`` in ``device_requests``
        was incorrect (https://github.com/ansible-collections/community.docker/issues/42,
        https://github.com/ansible-collections/community.docker/pull/43).
      release_summary: Maintenance release with a bugfix for ``docker_container``.
    fragments:
    - 1.0.1.yml
    - 43-docker_container-device_requests.yml
    release_date: '2020-12-11'
  1.1.0:
    changes:
      bugfixes:
      - docker_image - if ``push=true`` is used with ``repository``, and the image
        does not need to be tagged, still push. This can happen if ``repository``
        and ``name`` are equal (https://github.com/ansible-collections/community.docker/issues/52,
        https://github.com/ansible-collections/community.docker/pull/53).
      - docker_image - report error when loading a broken archive that contains no
        image (https://github.com/ansible-collections/community.docker/issues/46,
        https://github.com/ansible-collections/community.docker/pull/55).
      - docker_image - report error when the loaded archive does not contain the specified
        image (https://github.com/ansible-collections/community.docker/issues/41,
        https://github.com/ansible-collections/community.docker/pull/55).
      deprecated_features:
      - docker_container - currently ``published_ports`` can contain port mappings
        next to the special value ``all``, in which case the port mappings are ignored.
        This behavior is deprecated for community.docker 2.0.0, at which point it
        will either be forbidden, or this behavior will be properly implemented similar
        to how the Docker CLI tool handles this (https://github.com/ansible-collections/community.docker/issues/8,
        https://github.com/ansible-collections/community.docker/pull/60).
      minor_changes:
      - docker_container - support specifying ``cgroup_parent`` (https://github.com/ansible-collections/community.docker/issues/6,
        https://github.com/ansible-collections/community.docker/pull/59).
      - docker_container - when a container is started with ``detached=false``, ``status``
        is now also returned when it is 0 (https://github.com/ansible-collections/community.docker/issues/26,
        https://github.com/ansible-collections/community.docker/pull/58).
      - docker_image - support ``platform`` when building images (https://github.com/ansible-collections/community.docker/issues/22,
        https://github.com/ansible-collections/community.docker/pull/54).
      release_summary: Feature release with three new plugins and modules.
    fragments:
    - 1.1.0.yml
    - 53-docker_image-tag-push.yml
    - 54-docker_image-build-platform.yml
    - 55-docker_image-loading.yml
    - 58-docker_container-non-detached-status.yml
    - 59-docker_container-cgroup-parent.yml
    - 60-docker_container-publish-all.yml
    modules:
    - description: Return facts about whether the module runs in a Docker container
      name: current_container_facts
      namespace: ''
    plugins:
      connection:
      - description: Run tasks in docker containers
        name: docker_api
        namespace: null
      inventory:
      - description: Ansible dynamic inventory plugin for Docker containers.
        name: docker_containers
        namespace: null
    release_date: '2021-01-03'
  1.2.0:
    changes:
      bugfixes:
      - docker_container - allow IPv6 zones (RFC 4007) in bind IPs (https://github.com/ansible-collections/community.docker/pull/66).
      - docker_image - fix crash on loading images with versions of Docker SDK for
        Python before 2.5.0 (https://github.com/ansible-collections/community.docker/issues/72,
        https://github.com/ansible-collections/community.docker/pull/73).
      minor_changes:
      - docker_container - added ``default_host_ip`` option which allows to explicitly
        set the default IP string for published ports without explicitly specified
        IPs. When using IPv6 binds with Docker 20.10.2 or newer, this needs to be
        set to an empty string (``""``) (https://github.com/ansible-collections/community.docker/issues/70,
        https://github.com/ansible-collections/community.docker/pull/71).
      release_summary: Feature release with one new feature and two bugfixes.
    fragments:
    - 1.2.0.yml
    - 66-ipv6-zones.yml
    - 71-docker_container-default_host_ip.yml
    - 73-docker_image-fix-old-docker-py-version.yml
    release_date: '2021-01-25'
  1.2.1:
    changes:
      bugfixes:
      - docker connection plugin - fix Docker version parsing, as some docker versions
        have a leading ``v`` in the output of the command ``docker version --format
        "{{.Server.Version}}"`` (https://github.com/ansible-collections/community.docker/pull/76).
      release_summary: Bugfix release.
    fragments:
    - 1.2.1.yml
    - 76-leading-v-support-in-docker-version.yml
    release_date: '2021-01-28'
  1.2.2:
    changes:
      release_summary: Security bugfix release to address CVE-2021-20191.
      security_fixes:
      - docker_swarm - enabled ``no_log`` for the option ``signing_ca_key`` to prevent
        accidental disclosure (CVE-2021-20191, https://github.com/ansible-collections/community.docker/pull/80).
    fragments:
    - 1.2.2.yml
    - CVE-2021-20191_no_log.yml
    release_date: '2021-02-05'
